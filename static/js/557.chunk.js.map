{"version":3,"file":"static/js/557.chunk.js","sources":["webpack://client/./node_modules/@azure/msal-browser/dist/naa/mapping/NestedAppAuthAdapter.mjs","webpack://client/./node_modules/@azure/msal-browser/dist/naa/BridgeError.mjs","webpack://client/./node_modules/@azure/msal-browser/dist/error/NestedAppAuthError.mjs","webpack://client/./node_modules/@azure/msal-browser/dist/controllers/NestedAppAuthController.mjs"],"sourcesContent":["/*! @azure/msal-browser v3.7.1 2024-01-23 */\n'use strict';\nimport { RequestParameterBuilder, StringUtils, AuthenticationScheme, createClientAuthError, ClientAuthErrorCodes, AuthToken, AuthError, InteractionRequiredAuthError, ServerError, ClientAuthError } from '@azure/msal-common';\nimport { isBridgeError } from '../BridgeError.mjs';\nimport { BridgeStatusCode } from '../BridgeStatusCode.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nclass NestedAppAuthAdapter {\n    constructor(clientId, clientCapabilities, crypto, logger) {\n        this.clientId = clientId;\n        this.clientCapabilities = clientCapabilities;\n        this.crypto = crypto;\n        this.logger = logger;\n    }\n    toNaaTokenRequest(request) {\n        let extraParams;\n        if (request.extraQueryParameters === undefined) {\n            extraParams = new Map();\n        }\n        else {\n            extraParams = new Map(Object.entries(request.extraQueryParameters));\n        }\n        const requestBuilder = new RequestParameterBuilder();\n        const claims = requestBuilder.addClientCapabilitiesToClaims(request.claims, this.clientCapabilities);\n        const tokenRequest = {\n            platformBrokerId: request.account?.homeAccountId,\n            clientId: this.clientId,\n            authority: request.authority,\n            scope: request.scopes.join(\" \"),\n            correlationId: request.correlationId !== undefined\n                ? request.correlationId\n                : this.crypto.createNewGuid(),\n            claims: !StringUtils.isEmptyObj(claims) ? claims : undefined,\n            state: request.state,\n            authenticationScheme: request.authenticationScheme || AuthenticationScheme.BEARER,\n            extraParameters: extraParams,\n        };\n        return tokenRequest;\n    }\n    fromNaaTokenResponse(request, response, reqTimestamp) {\n        if (!response.token.id_token || !response.token.access_token) {\n            throw createClientAuthError(ClientAuthErrorCodes.nullOrEmptyToken);\n        }\n        const expiresOn = new Date((reqTimestamp + (response.token.expires_in || 0)) * 1000);\n        const idTokenClaims = AuthToken.extractTokenClaims(response.token.id_token, this.crypto.base64Decode);\n        const account = this.fromNaaAccountInfo(response.account, idTokenClaims);\n        const scopes = response.token.scope || request.scope;\n        const authenticationResult = {\n            authority: response.token.authority || account.environment,\n            uniqueId: account.localAccountId,\n            tenantId: account.tenantId,\n            scopes: scopes.split(\" \"),\n            account,\n            idToken: response.token.id_token,\n            idTokenClaims,\n            accessToken: response.token.access_token,\n            fromCache: true,\n            expiresOn: expiresOn,\n            tokenType: request.authenticationScheme || AuthenticationScheme.BEARER,\n            correlationId: request.correlationId,\n            extExpiresOn: expiresOn,\n            state: request.state,\n        };\n        return authenticationResult;\n    }\n    /*\n     *  export type AccountInfo = {\n     *     homeAccountId: string;\n     *     environment: string;\n     *     tenantId: string;\n     *     username: string;\n     *     localAccountId: string;\n     *     name?: string;\n     *     idToken?: string;\n     *     idTokenClaims?: TokenClaims & {\n     *         [key: string]:\n     *             | string\n     *             | number\n     *             | string[]\n     *             | object\n     *             | undefined\n     *             | unknown;\n     *     };\n     *     nativeAccountId?: string;\n     *     authorityType?: string;\n     * };\n     */\n    fromNaaAccountInfo(fromAccount, idTokenClaims) {\n        const effectiveIdTokenClaims = idTokenClaims || fromAccount.idTokenClaims;\n        const localAccountId = fromAccount.localAccountId ||\n            effectiveIdTokenClaims?.oid ||\n            effectiveIdTokenClaims?.sub ||\n            \"\";\n        const tenantId = fromAccount.tenantId || effectiveIdTokenClaims?.tid || \"\";\n        const homeAccountId = fromAccount.homeAccountId || `${localAccountId}.${tenantId}`;\n        const username = fromAccount.username ||\n            effectiveIdTokenClaims?.preferred_username ||\n            \"\";\n        const name = fromAccount.name || effectiveIdTokenClaims?.name;\n        const account = {\n            homeAccountId,\n            environment: fromAccount.environment,\n            tenantId,\n            username,\n            localAccountId,\n            name,\n            idToken: fromAccount.idToken,\n            idTokenClaims: effectiveIdTokenClaims,\n        };\n        return account;\n    }\n    /**\n     *\n     * @param error BridgeError\n     * @returns AuthError, ClientAuthError, ClientConfigurationError, ServerError, InteractionRequiredError\n     */\n    fromBridgeError(error) {\n        if (isBridgeError(error)) {\n            switch (error.status) {\n                case BridgeStatusCode.UserCancel:\n                    return new ClientAuthError(ClientAuthErrorCodes.userCanceled);\n                case BridgeStatusCode.NoNetwork:\n                    return new ClientAuthError(ClientAuthErrorCodes.noNetworkConnectivity);\n                case BridgeStatusCode.AccountUnavailable:\n                    return new ClientAuthError(ClientAuthErrorCodes.noAccountFound);\n                case BridgeStatusCode.Disabled:\n                    return new ClientAuthError(ClientAuthErrorCodes.nestedAppAuthBridgeDisabled);\n                case BridgeStatusCode.NestedAppAuthUnavailable:\n                    return new ClientAuthError(error.code ||\n                        ClientAuthErrorCodes.nestedAppAuthBridgeDisabled, error.description);\n                case BridgeStatusCode.TransientError:\n                case BridgeStatusCode.PersistentError:\n                    return new ServerError(error.code, error.description);\n                case BridgeStatusCode.UserInteractionRequired:\n                    return new InteractionRequiredAuthError(error.code, error.description);\n                default:\n                    return new AuthError(error.code, error.description);\n            }\n        }\n        else {\n            return new AuthError(\"unknown_error\", \"An unknown error occurred\");\n        }\n    }\n}\n\nexport { NestedAppAuthAdapter };\n//# sourceMappingURL=NestedAppAuthAdapter.mjs.map\n","/*! @azure/msal-browser v3.7.1 2024-01-23 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nfunction isBridgeError(error) {\n    return error.status !== undefined;\n}\n\nexport { isBridgeError };\n//# sourceMappingURL=BridgeError.mjs.map\n","/*! @azure/msal-browser v3.7.1 2024-01-23 */\n'use strict';\nimport { AuthError } from '@azure/msal-common';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * NestedAppAuthErrorMessage class containing string constants used by error codes and messages.\n */\nconst NestedAppAuthErrorMessage = {\n    unsupportedMethod: {\n        code: \"unsupported_method\",\n        desc: \"The PKCE code challenge and verifier could not be generated.\",\n    },\n};\nclass NestedAppAuthError extends AuthError {\n    constructor(errorCode, errorMessage) {\n        super(errorCode, errorMessage);\n        Object.setPrototypeOf(this, NestedAppAuthError.prototype);\n        this.name = \"NestedAppAuthError\";\n    }\n    static createUnsupportedError() {\n        return new NestedAppAuthError(NestedAppAuthErrorMessage.unsupportedMethod.code, NestedAppAuthErrorMessage.unsupportedMethod.desc);\n    }\n}\n\nexport { NestedAppAuthError, NestedAppAuthErrorMessage };\n//# sourceMappingURL=NestedAppAuthError.mjs.map\n","/*! @azure/msal-browser v3.7.1 2024-01-23 */\n'use strict';\nimport { DEFAULT_CRYPTO_IMPLEMENTATION, PerformanceEvents, TimeUtils } from '@azure/msal-common';\nimport { InteractionType } from '../utils/BrowserConstants.mjs';\nimport { CryptoOps } from '../crypto/CryptoOps.mjs';\nimport { NestedAppAuthAdapter } from '../naa/mapping/NestedAppAuthAdapter.mjs';\nimport { NestedAppAuthError } from '../error/NestedAppAuthError.mjs';\nimport { EventHandler } from '../event/EventHandler.mjs';\nimport { EventType } from '../event/EventType.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nclass NestedAppAuthController {\n    constructor(operatingContext) {\n        this.operatingContext = operatingContext;\n        const proxy = this.operatingContext.getBridgeProxy();\n        if (proxy !== undefined) {\n            this.bridgeProxy = proxy;\n        }\n        else {\n            throw new Error(\"unexpected: bridgeProxy is undefined\");\n        }\n        // Set the configuration.\n        this.config = operatingContext.getConfig();\n        // Initialize logger\n        this.logger = this.operatingContext.getLogger();\n        // Initialize performance client\n        this.performanceClient = this.config.telemetry.client;\n        // Initialize the crypto class.\n        this.browserCrypto = operatingContext.isBrowserEnvironment()\n            ? new CryptoOps(this.logger, this.performanceClient)\n            : DEFAULT_CRYPTO_IMPLEMENTATION;\n        this.eventHandler = new EventHandler(this.logger, this.browserCrypto);\n        this.nestedAppAuthAdapter = new NestedAppAuthAdapter(this.config.auth.clientId, this.config.auth.clientCapabilities, this.browserCrypto, this.logger);\n    }\n    getBrowserStorage() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    getEventHandler() {\n        return this.eventHandler;\n    }\n    static async createController(operatingContext) {\n        const controller = new NestedAppAuthController(operatingContext);\n        return Promise.resolve(controller);\n    }\n    initialize() {\n        // do nothing not required by this controller\n        return Promise.resolve();\n    }\n    async acquireTokenInteractive(request) {\n        this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_START, InteractionType.Popup, request);\n        const atPopupMeasurement = this.performanceClient.startMeasurement(PerformanceEvents.AcquireTokenPopup, request.correlationId);\n        atPopupMeasurement?.add({ nestedAppAuthRequest: true });\n        try {\n            const naaRequest = this.nestedAppAuthAdapter.toNaaTokenRequest(request);\n            const reqTimestamp = TimeUtils.nowSeconds();\n            const response = await this.bridgeProxy.getTokenInteractive(naaRequest);\n            const result = this.nestedAppAuthAdapter.fromNaaTokenResponse(naaRequest, response, reqTimestamp);\n            this.operatingContext.setActiveAccount(result.account);\n            this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_SUCCESS, InteractionType.Popup, result);\n            atPopupMeasurement.add({\n                accessTokenSize: result.accessToken.length,\n                idTokenSize: result.idToken.length,\n            });\n            atPopupMeasurement.end({\n                success: true,\n                requestId: result.requestId,\n            });\n            return result;\n        }\n        catch (e) {\n            const error = this.nestedAppAuthAdapter.fromBridgeError(e);\n            this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE, InteractionType.Popup, null, e);\n            atPopupMeasurement.end({\n                errorCode: error.errorCode,\n                subErrorCode: error.subError,\n                success: false,\n            });\n            throw error;\n        }\n    }\n    async acquireTokenSilentInternal(request) {\n        this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_START, InteractionType.Silent, request);\n        const ssoSilentMeasurement = this.performanceClient.startMeasurement(PerformanceEvents.SsoSilent, request.correlationId);\n        ssoSilentMeasurement?.increment({\n            visibilityChangeCount: 0,\n        });\n        ssoSilentMeasurement?.add({\n            nestedAppAuthRequest: true,\n        });\n        try {\n            const naaRequest = this.nestedAppAuthAdapter.toNaaTokenRequest(request);\n            const reqTimestamp = TimeUtils.nowSeconds();\n            const response = await this.bridgeProxy.getTokenSilent(naaRequest);\n            const result = this.nestedAppAuthAdapter.fromNaaTokenResponse(naaRequest, response, reqTimestamp);\n            this.operatingContext.setActiveAccount(result.account);\n            this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_SUCCESS, InteractionType.Silent, result);\n            ssoSilentMeasurement?.add({\n                accessTokenSize: result.accessToken.length,\n                idTokenSize: result.idToken.length,\n            });\n            ssoSilentMeasurement?.end({\n                success: true,\n                requestId: result.requestId,\n            });\n            return result;\n        }\n        catch (e) {\n            const error = this.nestedAppAuthAdapter.fromBridgeError(e);\n            this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE, InteractionType.Silent, null, e);\n            ssoSilentMeasurement?.end({\n                errorCode: error.errorCode,\n                subErrorCode: error.subError,\n                success: false,\n            });\n            throw error;\n        }\n    }\n    async acquireTokenPopup(request) {\n        return this.acquireTokenInteractive(request);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    acquireTokenRedirect(request) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    async acquireTokenSilent(silentRequest) {\n        return this.acquireTokenSilentInternal(silentRequest);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    acquireTokenByCode(request // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    acquireTokenNative(request, apiId, // eslint-disable-line @typescript-eslint/no-unused-vars\n    accountId // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    acquireTokenByRefreshToken(commonRequest, // eslint-disable-line @typescript-eslint/no-unused-vars\n    silentRequest // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    /**\n     * Adds event callbacks to array\n     * @param callback\n     */\n    addEventCallback(callback) {\n        return this.eventHandler.addEventCallback(callback);\n    }\n    /**\n     * Removes callback with provided id from callback array\n     * @param callbackId\n     */\n    removeEventCallback(callbackId) {\n        this.eventHandler.removeEventCallback(callbackId);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    addPerformanceCallback(callback) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    removePerformanceCallback(callbackId) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    enableAccountStorageEvents() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    disableAccountStorageEvents() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getAccount(accountFilter) {\n        throw NestedAppAuthError.createUnsupportedError();\n        // TODO: Look at standard implementation\n    }\n    getAccountByHomeId(homeAccountId) {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            if (currentAccount.homeAccountId === homeAccountId) {\n                return this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount);\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return null;\n        }\n    }\n    getAccountByLocalId(localId) {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            if (currentAccount.localAccountId === localId) {\n                return this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount);\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return null;\n        }\n    }\n    getAccountByUsername(userName) {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            if (currentAccount.username === userName) {\n                return this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount);\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return null;\n        }\n    }\n    getAllAccounts() {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            return [\n                this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount),\n            ];\n        }\n        else {\n            return [];\n        }\n    }\n    handleRedirectPromise(hash // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    loginPopup(request // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        if (request !== undefined) {\n            return this.acquireTokenInteractive(request);\n        }\n        else {\n            throw NestedAppAuthError.createUnsupportedError();\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    loginRedirect(request) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    logout(logoutRequest) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    logoutRedirect(logoutRequest // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    logoutPopup(logoutRequest // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    ssoSilent(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    request) {\n        return this.acquireTokenSilentInternal(request);\n    }\n    getTokenCache() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    /**\n     * Returns the logger instance\n     */\n    getLogger() {\n        return this.logger;\n    }\n    /**\n     * Replaces the default logger set in configurations with new Logger with new configurations\n     * @param logger Logger instance\n     */\n    setLogger(logger) {\n        this.logger = logger;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    setActiveAccount(account) {\n        /*\n         * StandardController uses this to allow the developer to set the active account\n         * in the nested app auth scenario the active account is controlled by the app hosting the nested app\n         */\n        this.logger.warning(\"nestedAppAuth does not support setActiveAccount\");\n        return;\n    }\n    getActiveAccount() {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            return this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount);\n        }\n        else {\n            return null;\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    initializeWrapperLibrary(sku, version) {\n        /*\n         * Standard controller uses this to set the sku and version of the wrapper library in the storage\n         * we do nothing here\n         */\n        return;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    setNavigationClient(navigationClient) {\n        this.logger.warning(\"setNavigationClient is not supported in nested app auth\");\n    }\n    getConfiguration() {\n        return this.config;\n    }\n    isBrowserEnv() {\n        return this.operatingContext.isBrowserEnvironment();\n    }\n    getBrowserCrypto() {\n        return this.browserCrypto;\n    }\n    getPerformanceClient() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    getRedirectResponse() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    preflightBrowserEnvironmentCheck(interactionType, // eslint-disable-line @typescript-eslint/no-unused-vars\n    setInteractionInProgress // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async clearCache(logoutRequest) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async hydrateCache(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    result, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    request) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n}\n\nexport { NestedAppAuthController };\n//# sourceMappingURL=NestedAppAuthController.mjs.map\n"],"names":["NestedAppAuthAdapter","clientId","clientCapabilities","crypto","logger","request","extraParams","undefined","Map","Object","claims","requestBuilder","RequestParameterBuilder","StringUtils","response","reqTimestamp","ClientAuthErrorCodes","expiresOn","Date","idTokenClaims","AuthToken","account","scopes","fromAccount","effectiveIdTokenClaims","localAccountId","tenantId","homeAccountId","username","name","error","AuthError","BridgeStatusCode","ClientAuthError","ServerError","InteractionRequiredAuthError","NestedAppAuthError","errorCode","errorMessage","NestedAppAuthErrorMessage","NestedAppAuthController","operatingContext","proxy","Error","CryptoOps","EventHandler","Promise","EventType","atPopupMeasurement","PerformanceEvent","naaRequest","TimeUtils","result","e","ssoSilentMeasurement","silentRequest","apiId","accountId","commonRequest","callback","callbackId","accountFilter","currentAccount","localId","userName","hash","logoutRequest","sku","version","navigationClient","interactionType","setInteractionInProgress"],"mappings":"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"}