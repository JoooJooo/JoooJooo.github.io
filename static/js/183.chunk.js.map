{"version":3,"file":"static/js/183.chunk.js","sources":["webpack://client/./node_modules/@azure/msal-browser/dist/controllers/NestedAppAuthController.mjs","webpack://client/./node_modules/@azure/msal-browser/dist/error/NestedAppAuthError.mjs","webpack://client/./node_modules/@azure/msal-browser/dist/naa/BridgeError.mjs","webpack://client/./node_modules/@azure/msal-browser/dist/naa/mapping/NestedAppAuthAdapter.mjs"],"sourcesContent":["/*! @azure/msal-browser v3.7.1 2024-01-23 */\n'use strict';\nimport { DEFAULT_CRYPTO_IMPLEMENTATION, PerformanceEvents, TimeUtils } from '@azure/msal-common';\nimport { InteractionType } from '../utils/BrowserConstants.mjs';\nimport { CryptoOps } from '../crypto/CryptoOps.mjs';\nimport { NestedAppAuthAdapter } from '../naa/mapping/NestedAppAuthAdapter.mjs';\nimport { NestedAppAuthError } from '../error/NestedAppAuthError.mjs';\nimport { EventHandler } from '../event/EventHandler.mjs';\nimport { EventType } from '../event/EventType.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nclass NestedAppAuthController {\n    constructor(operatingContext) {\n        this.operatingContext = operatingContext;\n        const proxy = this.operatingContext.getBridgeProxy();\n        if (proxy !== undefined) {\n            this.bridgeProxy = proxy;\n        }\n        else {\n            throw new Error(\"unexpected: bridgeProxy is undefined\");\n        }\n        // Set the configuration.\n        this.config = operatingContext.getConfig();\n        // Initialize logger\n        this.logger = this.operatingContext.getLogger();\n        // Initialize performance client\n        this.performanceClient = this.config.telemetry.client;\n        // Initialize the crypto class.\n        this.browserCrypto = operatingContext.isBrowserEnvironment()\n            ? new CryptoOps(this.logger, this.performanceClient)\n            : DEFAULT_CRYPTO_IMPLEMENTATION;\n        this.eventHandler = new EventHandler(this.logger, this.browserCrypto);\n        this.nestedAppAuthAdapter = new NestedAppAuthAdapter(this.config.auth.clientId, this.config.auth.clientCapabilities, this.browserCrypto, this.logger);\n    }\n    getBrowserStorage() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    getEventHandler() {\n        return this.eventHandler;\n    }\n    static async createController(operatingContext) {\n        const controller = new NestedAppAuthController(operatingContext);\n        return Promise.resolve(controller);\n    }\n    initialize() {\n        // do nothing not required by this controller\n        return Promise.resolve();\n    }\n    async acquireTokenInteractive(request) {\n        this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_START, InteractionType.Popup, request);\n        const atPopupMeasurement = this.performanceClient.startMeasurement(PerformanceEvents.AcquireTokenPopup, request.correlationId);\n        atPopupMeasurement?.add({ nestedAppAuthRequest: true });\n        try {\n            const naaRequest = this.nestedAppAuthAdapter.toNaaTokenRequest(request);\n            const reqTimestamp = TimeUtils.nowSeconds();\n            const response = await this.bridgeProxy.getTokenInteractive(naaRequest);\n            const result = this.nestedAppAuthAdapter.fromNaaTokenResponse(naaRequest, response, reqTimestamp);\n            this.operatingContext.setActiveAccount(result.account);\n            this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_SUCCESS, InteractionType.Popup, result);\n            atPopupMeasurement.add({\n                accessTokenSize: result.accessToken.length,\n                idTokenSize: result.idToken.length,\n            });\n            atPopupMeasurement.end({\n                success: true,\n                requestId: result.requestId,\n            });\n            return result;\n        }\n        catch (e) {\n            const error = this.nestedAppAuthAdapter.fromBridgeError(e);\n            this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE, InteractionType.Popup, null, e);\n            atPopupMeasurement.end({\n                errorCode: error.errorCode,\n                subErrorCode: error.subError,\n                success: false,\n            });\n            throw error;\n        }\n    }\n    async acquireTokenSilentInternal(request) {\n        this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_START, InteractionType.Silent, request);\n        const ssoSilentMeasurement = this.performanceClient.startMeasurement(PerformanceEvents.SsoSilent, request.correlationId);\n        ssoSilentMeasurement?.increment({\n            visibilityChangeCount: 0,\n        });\n        ssoSilentMeasurement?.add({\n            nestedAppAuthRequest: true,\n        });\n        try {\n            const naaRequest = this.nestedAppAuthAdapter.toNaaTokenRequest(request);\n            const reqTimestamp = TimeUtils.nowSeconds();\n            const response = await this.bridgeProxy.getTokenSilent(naaRequest);\n            const result = this.nestedAppAuthAdapter.fromNaaTokenResponse(naaRequest, response, reqTimestamp);\n            this.operatingContext.setActiveAccount(result.account);\n            this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_SUCCESS, InteractionType.Silent, result);\n            ssoSilentMeasurement?.add({\n                accessTokenSize: result.accessToken.length,\n                idTokenSize: result.idToken.length,\n            });\n            ssoSilentMeasurement?.end({\n                success: true,\n                requestId: result.requestId,\n            });\n            return result;\n        }\n        catch (e) {\n            const error = this.nestedAppAuthAdapter.fromBridgeError(e);\n            this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE, InteractionType.Silent, null, e);\n            ssoSilentMeasurement?.end({\n                errorCode: error.errorCode,\n                subErrorCode: error.subError,\n                success: false,\n            });\n            throw error;\n        }\n    }\n    async acquireTokenPopup(request) {\n        return this.acquireTokenInteractive(request);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    acquireTokenRedirect(request) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    async acquireTokenSilent(silentRequest) {\n        return this.acquireTokenSilentInternal(silentRequest);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    acquireTokenByCode(request // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    acquireTokenNative(request, apiId, // eslint-disable-line @typescript-eslint/no-unused-vars\n    accountId // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    acquireTokenByRefreshToken(commonRequest, // eslint-disable-line @typescript-eslint/no-unused-vars\n    silentRequest // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    /**\n     * Adds event callbacks to array\n     * @param callback\n     */\n    addEventCallback(callback) {\n        return this.eventHandler.addEventCallback(callback);\n    }\n    /**\n     * Removes callback with provided id from callback array\n     * @param callbackId\n     */\n    removeEventCallback(callbackId) {\n        this.eventHandler.removeEventCallback(callbackId);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    addPerformanceCallback(callback) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    removePerformanceCallback(callbackId) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    enableAccountStorageEvents() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    disableAccountStorageEvents() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getAccount(accountFilter) {\n        throw NestedAppAuthError.createUnsupportedError();\n        // TODO: Look at standard implementation\n    }\n    getAccountByHomeId(homeAccountId) {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            if (currentAccount.homeAccountId === homeAccountId) {\n                return this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount);\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return null;\n        }\n    }\n    getAccountByLocalId(localId) {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            if (currentAccount.localAccountId === localId) {\n                return this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount);\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return null;\n        }\n    }\n    getAccountByUsername(userName) {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            if (currentAccount.username === userName) {\n                return this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount);\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return null;\n        }\n    }\n    getAllAccounts() {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            return [\n                this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount),\n            ];\n        }\n        else {\n            return [];\n        }\n    }\n    handleRedirectPromise(hash // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    loginPopup(request // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        if (request !== undefined) {\n            return this.acquireTokenInteractive(request);\n        }\n        else {\n            throw NestedAppAuthError.createUnsupportedError();\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    loginRedirect(request) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    logout(logoutRequest) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    logoutRedirect(logoutRequest // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    logoutPopup(logoutRequest // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    ssoSilent(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    request) {\n        return this.acquireTokenSilentInternal(request);\n    }\n    getTokenCache() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    /**\n     * Returns the logger instance\n     */\n    getLogger() {\n        return this.logger;\n    }\n    /**\n     * Replaces the default logger set in configurations with new Logger with new configurations\n     * @param logger Logger instance\n     */\n    setLogger(logger) {\n        this.logger = logger;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    setActiveAccount(account) {\n        /*\n         * StandardController uses this to allow the developer to set the active account\n         * in the nested app auth scenario the active account is controlled by the app hosting the nested app\n         */\n        this.logger.warning(\"nestedAppAuth does not support setActiveAccount\");\n        return;\n    }\n    getActiveAccount() {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            return this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount);\n        }\n        else {\n            return null;\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    initializeWrapperLibrary(sku, version) {\n        /*\n         * Standard controller uses this to set the sku and version of the wrapper library in the storage\n         * we do nothing here\n         */\n        return;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    setNavigationClient(navigationClient) {\n        this.logger.warning(\"setNavigationClient is not supported in nested app auth\");\n    }\n    getConfiguration() {\n        return this.config;\n    }\n    isBrowserEnv() {\n        return this.operatingContext.isBrowserEnvironment();\n    }\n    getBrowserCrypto() {\n        return this.browserCrypto;\n    }\n    getPerformanceClient() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    getRedirectResponse() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    preflightBrowserEnvironmentCheck(interactionType, // eslint-disable-line @typescript-eslint/no-unused-vars\n    setInteractionInProgress // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async clearCache(logoutRequest) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async hydrateCache(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    result, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    request) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n}\n\nexport { NestedAppAuthController };\n//# sourceMappingURL=NestedAppAuthController.mjs.map\n","/*! @azure/msal-browser v3.7.1 2024-01-23 */\n'use strict';\nimport { AuthError } from '@azure/msal-common';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * NestedAppAuthErrorMessage class containing string constants used by error codes and messages.\n */\nconst NestedAppAuthErrorMessage = {\n    unsupportedMethod: {\n        code: \"unsupported_method\",\n        desc: \"The PKCE code challenge and verifier could not be generated.\",\n    },\n};\nclass NestedAppAuthError extends AuthError {\n    constructor(errorCode, errorMessage) {\n        super(errorCode, errorMessage);\n        Object.setPrototypeOf(this, NestedAppAuthError.prototype);\n        this.name = \"NestedAppAuthError\";\n    }\n    static createUnsupportedError() {\n        return new NestedAppAuthError(NestedAppAuthErrorMessage.unsupportedMethod.code, NestedAppAuthErrorMessage.unsupportedMethod.desc);\n    }\n}\n\nexport { NestedAppAuthError, NestedAppAuthErrorMessage };\n//# sourceMappingURL=NestedAppAuthError.mjs.map\n","/*! @azure/msal-browser v3.7.1 2024-01-23 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nfunction isBridgeError(error) {\n    return error.status !== undefined;\n}\n\nexport { isBridgeError };\n//# sourceMappingURL=BridgeError.mjs.map\n","/*! @azure/msal-browser v3.7.1 2024-01-23 */\n'use strict';\nimport { RequestParameterBuilder, StringUtils, AuthenticationScheme, createClientAuthError, ClientAuthErrorCodes, AuthToken, AuthError, InteractionRequiredAuthError, ServerError, ClientAuthError } from '@azure/msal-common';\nimport { isBridgeError } from '../BridgeError.mjs';\nimport { BridgeStatusCode } from '../BridgeStatusCode.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nclass NestedAppAuthAdapter {\n    constructor(clientId, clientCapabilities, crypto, logger) {\n        this.clientId = clientId;\n        this.clientCapabilities = clientCapabilities;\n        this.crypto = crypto;\n        this.logger = logger;\n    }\n    toNaaTokenRequest(request) {\n        let extraParams;\n        if (request.extraQueryParameters === undefined) {\n            extraParams = new Map();\n        }\n        else {\n            extraParams = new Map(Object.entries(request.extraQueryParameters));\n        }\n        const requestBuilder = new RequestParameterBuilder();\n        const claims = requestBuilder.addClientCapabilitiesToClaims(request.claims, this.clientCapabilities);\n        const tokenRequest = {\n            platformBrokerId: request.account?.homeAccountId,\n            clientId: this.clientId,\n            authority: request.authority,\n            scope: request.scopes.join(\" \"),\n            correlationId: request.correlationId !== undefined\n                ? request.correlationId\n                : this.crypto.createNewGuid(),\n            claims: !StringUtils.isEmptyObj(claims) ? claims : undefined,\n            state: request.state,\n            authenticationScheme: request.authenticationScheme || AuthenticationScheme.BEARER,\n            extraParameters: extraParams,\n        };\n        return tokenRequest;\n    }\n    fromNaaTokenResponse(request, response, reqTimestamp) {\n        if (!response.token.id_token || !response.token.access_token) {\n            throw createClientAuthError(ClientAuthErrorCodes.nullOrEmptyToken);\n        }\n        const expiresOn = new Date((reqTimestamp + (response.token.expires_in || 0)) * 1000);\n        const idTokenClaims = AuthToken.extractTokenClaims(response.token.id_token, this.crypto.base64Decode);\n        const account = this.fromNaaAccountInfo(response.account, idTokenClaims);\n        const scopes = response.token.scope || request.scope;\n        const authenticationResult = {\n            authority: response.token.authority || account.environment,\n            uniqueId: account.localAccountId,\n            tenantId: account.tenantId,\n            scopes: scopes.split(\" \"),\n            account,\n            idToken: response.token.id_token,\n            idTokenClaims,\n            accessToken: response.token.access_token,\n            fromCache: true,\n            expiresOn: expiresOn,\n            tokenType: request.authenticationScheme || AuthenticationScheme.BEARER,\n            correlationId: request.correlationId,\n            extExpiresOn: expiresOn,\n            state: request.state,\n        };\n        return authenticationResult;\n    }\n    /*\n     *  export type AccountInfo = {\n     *     homeAccountId: string;\n     *     environment: string;\n     *     tenantId: string;\n     *     username: string;\n     *     localAccountId: string;\n     *     name?: string;\n     *     idToken?: string;\n     *     idTokenClaims?: TokenClaims & {\n     *         [key: string]:\n     *             | string\n     *             | number\n     *             | string[]\n     *             | object\n     *             | undefined\n     *             | unknown;\n     *     };\n     *     nativeAccountId?: string;\n     *     authorityType?: string;\n     * };\n     */\n    fromNaaAccountInfo(fromAccount, idTokenClaims) {\n        const effectiveIdTokenClaims = idTokenClaims || fromAccount.idTokenClaims;\n        const localAccountId = fromAccount.localAccountId ||\n            effectiveIdTokenClaims?.oid ||\n            effectiveIdTokenClaims?.sub ||\n            \"\";\n        const tenantId = fromAccount.tenantId || effectiveIdTokenClaims?.tid || \"\";\n        const homeAccountId = fromAccount.homeAccountId || `${localAccountId}.${tenantId}`;\n        const username = fromAccount.username ||\n            effectiveIdTokenClaims?.preferred_username ||\n            \"\";\n        const name = fromAccount.name || effectiveIdTokenClaims?.name;\n        const account = {\n            homeAccountId,\n            environment: fromAccount.environment,\n            tenantId,\n            username,\n            localAccountId,\n            name,\n            idToken: fromAccount.idToken,\n            idTokenClaims: effectiveIdTokenClaims,\n        };\n        return account;\n    }\n    /**\n     *\n     * @param error BridgeError\n     * @returns AuthError, ClientAuthError, ClientConfigurationError, ServerError, InteractionRequiredError\n     */\n    fromBridgeError(error) {\n        if (isBridgeError(error)) {\n            switch (error.status) {\n                case BridgeStatusCode.UserCancel:\n                    return new ClientAuthError(ClientAuthErrorCodes.userCanceled);\n                case BridgeStatusCode.NoNetwork:\n                    return new ClientAuthError(ClientAuthErrorCodes.noNetworkConnectivity);\n                case BridgeStatusCode.AccountUnavailable:\n                    return new ClientAuthError(ClientAuthErrorCodes.noAccountFound);\n                case BridgeStatusCode.Disabled:\n                    return new ClientAuthError(ClientAuthErrorCodes.nestedAppAuthBridgeDisabled);\n                case BridgeStatusCode.NestedAppAuthUnavailable:\n                    return new ClientAuthError(error.code ||\n                        ClientAuthErrorCodes.nestedAppAuthBridgeDisabled, error.description);\n                case BridgeStatusCode.TransientError:\n                case BridgeStatusCode.PersistentError:\n                    return new ServerError(error.code, error.description);\n                case BridgeStatusCode.UserInteractionRequired:\n                    return new InteractionRequiredAuthError(error.code, error.description);\n                default:\n                    return new AuthError(error.code, error.description);\n            }\n        }\n        else {\n            return new AuthError(\"unknown_error\", \"An unknown error occurred\");\n        }\n    }\n}\n\nexport { NestedAppAuthAdapter };\n//# sourceMappingURL=NestedAppAuthAdapter.mjs.map\n"],"names":["NestedAppAuthController","constructor","operatingContext","proxy","getBridgeProxy","undefined","bridgeProxy","Error","config","getConfig","logger","getLogger","performanceClient","telemetry","client","browserCrypto","isBrowserEnvironment","eventHandler","nestedAppAuthAdapter","auth","clientId","clientCapabilities","getBrowserStorage","getEventHandler","createController","Promise","resolve","initialize","acquireTokenInteractive","request","emitEvent","atPopupMeasurement","startMeasurement","correlationId","add","nestedAppAuthRequest","naaRequest","toNaaTokenRequest","reqTimestamp","response","getTokenInteractive","result","fromNaaTokenResponse","setActiveAccount","account","accessTokenSize","accessToken","length","idTokenSize","idToken","end","success","requestId","e","error","fromBridgeError","errorCode","subErrorCode","subError","acquireTokenSilentInternal","ssoSilentMeasurement","increment","visibilityChangeCount","getTokenSilent","acquireTokenPopup","acquireTokenRedirect","acquireTokenSilent","silentRequest","acquireTokenByCode","acquireTokenNative","apiId","accountId","acquireTokenByRefreshToken","commonRequest","addEventCallback","callback","removeEventCallback","callbackId","addPerformanceCallback","removePerformanceCallback","enableAccountStorageEvents","disableAccountStorageEvents","getAccount","accountFilter","getAccountByHomeId","homeAccountId","currentAccount","getActiveAccount","fromNaaAccountInfo","getAccountByLocalId","localId","localAccountId","getAccountByUsername","userName","username","getAllAccounts","handleRedirectPromise","hash","loginPopup","loginRedirect","logout","logoutRequest","logoutRedirect","logoutPopup","ssoSilent","getTokenCache","setLogger","warning","initializeWrapperLibrary","sku","version","setNavigationClient","navigationClient","getConfiguration","isBrowserEnv","getBrowserCrypto","getPerformanceClient","getRedirectResponse","preflightBrowserEnvironmentCheck","interactionType","setInteractionInProgress","clearCache","hydrateCache","code","desc","NestedAppAuthError","errorMessage","Object","setPrototypeOf","prototype","name","createUnsupportedError","NestedAppAuthErrorMessage","isBridgeError","status","NestedAppAuthAdapter","crypto","extraParams","extraQueryParameters","Map","entries","claims","requestBuilder","addClientCapabilitiesToClaims","platformBrokerId","authority","scope","scopes","join","createNewGuid","state","authenticationScheme","extraParameters","token","id_token","access_token","expiresOn","Date","expires_in","idTokenClaims","base64Decode","environment","uniqueId","tenantId","split","fromCache","tokenType","extExpiresOn","fromAccount","effectiveIdTokenClaims","oid","sub","tid","preferred_username","description"],"mappings":"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"}